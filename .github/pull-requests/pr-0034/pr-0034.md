---
pr_number: 34
title: Improve test coverage
state: MERGED
status: MERGED
is_draft: false
created_at: '2025-12-31T18:41:20Z'
updated_at: '2026-01-01T01:28:17Z'
closed_at: '2026-01-01T01:28:17Z'
merged_at: '2026-01-01T01:28:17Z'
author: wclaytor
labels: []
assignees: []
milestone: null
head_ref: 33-improve-test-coverage
base_ref: main
additions: 8596
deletions: 1524
changed_files: 229
review_decision: ''
url: https://github.com/wclaytor/wclaytor.github.io/pull/34
---

# PR #34: Improve test coverage

**Status**: `MERGED` ‚úÖ | **Branch**: `33-improve-test-coverage` ‚Üí `main`

**Changes**: +8596 -1524 across 229 files

## Description

Improve test coverage

## Comments

### Comment by @wclaytor - 2025-12-31 18:41:57

## üß™ Test Runner Scripts Added

Created test runner scripts for all test categories in `tests/playwright/`:

| Script | Description |
|--------|-------------|
| `run-smoke.sh` | Runs smoke tests (critical path) |
| `run-functional.sh` | Runs functional feature tests |
| `run-visual.sh` | Runs visual regression tests |
| `run-accessibility.sh` | Runs accessibility/WCAG compliance tests |
| `run-performance.sh` | Runs performance tests |
| `run-all.sh` | Runs all test categories |

### Usage

```bash
cd tests/playwright
./run-smoke.sh        # Run smoke tests
./run-functional.sh   # Run functional tests
./run-all.sh          # Run all tests
```

### Features

All scripts share the same behavior:
- ‚úÖ Create timestamped report directory (`reports/YYYYMMDD-HHMMSS/`)
- ‚úÖ Generate HTML report (self-contained)
- ‚úÖ Generate JUnit XML report
- ‚úÖ Capture screenshots on failure
- ‚úÖ Record videos
- ‚úÖ Retain tracing on failure
- ‚úÖ Copy Playwright artifacts to report directory

[View on GitHub](https://github.com/wclaytor/wclaytor.github.io/pull/34#issuecomment-3702691988)

### Comment by @wclaytor - 2025-12-31 19:26:51

## üß™ Functional Tests - Masthead Section Complete

Implemented **Test Plan Section 3.2.1 Masthead Section** tests:

| ID | Test Case | Status |
|----|-----------|--------|
| HP-M-001 | Name is displayed | ‚úÖ Pass |
| HP-M-002 | Tagline is displayed | ‚úÖ Pass |
| HP-M-003 | Subtitle is displayed | ‚úÖ Pass |
| HP-M-004 | Scroll indicator works | ‚úÖ Pass |
| HP-M-005 | Scroll indicator keyboard accessible | ‚úÖ Pass |

### Files Added
- `tests/playwright/tests/functional/test_homepage_masthead.py`

### Script Enhancement
Updated `run-functional.sh` with enhanced reporting:
- `-r fEsxX` ‚Äî Extra test summary info (failed, error, skipped, xfail, xpass)
- `--tb=short` ‚Äî Shorter tracebacks for easier reading

### Test Run Output
```
5 passed in 17.45s
```

Ready to proceed with **3.2.2 About Section** tests.

[View on GitHub](https://github.com/wclaytor/wclaytor.github.io/pull/34#issuecomment-3702754995)

### Comment by @wclaytor - 2025-12-31 19:50:29

## üõ†Ô∏è New Utility: xml2md

Created a new utility to convert JUnit XML test reports to beautiful Markdown reports.

### New Files
- `utilities/xml2md/pyproject.toml` - uv project with PEP 735 dependency groups
- `utilities/xml2md/src/xml2md/__init__.py` - CLI script using Click
- `utilities/xml2md/README.md` - Documentation

### Markdown Report Features
- **Summary section** - pass/fail status with emojis, counts table, duration, pass rate
- **Detailed results** - tests grouped by class, status emojis (‚úÖ ‚ùå üí• ‚è≠Ô∏è), durations
- **Failures & Errors** - detailed messages and stack traces
- Extracts browser info from test names (e.g., `[chromium]`)

### Integration
All test runner scripts now automatically generate Markdown reports:
- `run-smoke.sh`
- `run-functional.sh`
- `run-visual.sh`
- `run-accessibility.sh`
- `run-performance.sh`
- `run-all.sh`

### Usage
```bash
# Standalone
uv run --directory ./utilities/xml2md xml2md report.xml

# Integrated (automatic after each test run)
./run-functional.sh
# ‚Üí reports/TIMESTAMP/report.md generated automatically
```

### Example Output
```markdown
# Test Report

**Generated:** December 31, 2025 at 19:47:43 UTC
**Source:** \`report.xml\`

## Summary


| Metric | Count |
|--------|-------|
| ‚úÖ Passed | 5 |
| ‚ùå Failed | 0 |
| **Total** | **5** |
| ‚è±Ô∏è Duration | 37.95s |

**Pass Rate:** 100.0%
```

[View on GitHub](https://github.com/wclaytor/wclaytor.github.io/pull/34#issuecomment-3702802538)

### Comment by @wclaytor - 2025-12-31 23:12:30

## üìã Smoke Tests README Created

Added comprehensive documentation for the Smoke Tests category:

**File**: `tests/playwright/tests/smoke/README.md`

### Contents:
- **Overview** - Purpose, execution timing, duration target (< 1 minute)
- **Test Coverage Status** - Maps all 6 test plan IDs (SM-001 through SM-006) to implementations
- **Coverage Summary** - 100% coverage (6/6 tests implemented) ‚úÖ
- **Test Details** - Breakdown of each test file, class, and individual test
- **Running the Tests** - Example commands for different scenarios
- **GitHub Issue Tracking** - Reference to the epic
- **References** - Links to related documentation

### Test Plan Mapping:
| ID | Test Case | Status |
|----|-----------|--------|
| SM-001 | Homepage loads | ‚úÖ |
| SM-002 | Projects page loads | ‚úÖ |
| SM-003 | Resume page loads | ‚úÖ |
| SM-004 | Navigation is visible | ‚úÖ |
| SM-005 | No console errors | ‚úÖ |
| SM-006 | Featured projects load | ‚úÖ |

This README provides traceability between the test plan and the actual test implementations.

[View on GitHub](https://github.com/wclaytor/wclaytor.github.io/pull/34#issuecomment-3703020227)

### Comment by @wclaytor - 2026-01-01 00:59:25

## üìã Functional Tests - Homepage README Created

Added comprehensive documentation for the Functional Tests - Homepage category:

**File**: `tests/playwright/tests/functional/README.md`

### Coverage Summary:
| Section | Tests | Implemented | Coverage |
|---------|-------|-------------|----------|
| Masthead (HP-M) | 5 | 5 | 100% ‚úÖ |
| About (HP-A) | 8 | 0 | 0% |
| Projects (HP-P) | 8 | 0 | 0% |
| Contact (HP-C) | 5 | 0 | 0% |
| **Total** | **26** | **5** | **19%** |

### Contents:
- Full test plan mapping for all 26 tests across 4 sections
- Current implementation status
- Test details for implemented masthead tests
- Page Object pattern documentation
- Pending work section
- Running commands and examples

### Implemented Tests (Masthead):
| ID | Test Case | Status |
|----|-----------|--------|
| HP-M-001 | Name is displayed | ‚úÖ |
| HP-M-002 | Tagline is displayed | ‚úÖ |
| HP-M-003 | Subtitle is displayed | ‚úÖ |
| HP-M-004 | Scroll indicator works | ‚úÖ |
| HP-M-005 | Scroll indicator keyboard accessible | ‚úÖ |

### Pending Work:
- `test_homepage_about.py` - 8 tests
- `test_homepage_projects.py` - 8 tests  
- `test_homepage_contact.py` - 5 tests

[View on GitHub](https://github.com/wclaytor/wclaytor.github.io/pull/34#issuecomment-3703122772)

### Comment by @wclaytor - 2026-01-01 01:27:21

## üéÜ NYE 2025 Fireworks Card & New Image Utilities

### Changes in this session:

**1. Added NYE 2025 Fireworks to Experiments section**
- New card with screenshot of the fireworks in action
- Links to the live project and README

**2. Created `img-utils` package** ([scripts/utility/img](https://github.com/wclaytor/wclaytor.github.io/tree/33-improve-test-coverage/scripts/utility/img))
- `img-crop` - Crop images by removing pixels from edges (toolbars, docks, etc.)
- `img-optimize` - Convert and compress images (PNG‚ÜíJPG, quality settings)
- Uses the uv pattern for zero-hassle installation

**3. Processed the screenshot**
- Cropped toolbar (95px) and dock (33px)
- Converted to optimized JPG: **79.5% size reduction** (939KB ‚Üí 192KB)

### Usage example:
```bash
# Crop a screenshot
uv run --directory ./scripts/utility/img \
  img-crop screenshot.png --top 95 --bottom 33

# Optimize to JPG
uv run --directory ./scripts/utility/img \
  img-optimize screenshot.png -o output.jpg --quality 85
```

Happy New Year! üéâ

[View on GitHub](https://github.com/wclaytor/wclaytor.github.io/pull/34#issuecomment-3703143347)

---

## Implementation Notes

_Add your implementation notes, decisions, and documentation here._

## Testing Notes

_Document testing performed, results, and any issues discovered._

## Review Notes

_Add code review feedback, suggestions, and action items._
